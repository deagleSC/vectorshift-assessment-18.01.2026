{"ast":null,"code":"var _jsxFileName = \"/Users/supratik_personal/Downloads/frontend_technical_assessment/frontend/src/components/nodes/TextNode.jsx\",\n  _s = $RefreshSig$();\n// TextNode.jsx - Text node with dynamic handles, variable validation, and autocomplete\n\nimport { useState, useEffect, useMemo, useCallback, useRef } from 'react';\nimport { useReactFlow } from 'reactflow';\nimport { BaseNode } from './BaseNode';\nimport { nodeConfig } from '../../config/nodeConfig';\nimport { useStore } from '../../store';\nimport { cn } from '../../lib/utils';\nimport { AlertCircle, Info } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst config = nodeConfig.text;\n\n// Extract variables from text using {{variableName}} pattern\nconst extractVariables = text => {\n  const regex = /\\{\\{([a-zA-Z_$][a-zA-Z0-9_$]*)\\}\\}/g;\n  const variables = new Set();\n  let match;\n  while ((match = regex.exec(text)) !== null) {\n    variables.add(match[1]);\n  }\n  return Array.from(variables);\n};\n\n// Get available variables from connected nodes\nconst getAvailableVariables = (nodeId, nodes, edges) => {\n  const availableVars = [];\n\n  // Get all source nodes that connect to this node\n  const incomingEdges = edges.filter(e => e.target === nodeId);\n  incomingEdges.forEach(edge => {\n    const sourceNode = nodes.find(n => n.id === edge.source);\n    if (sourceNode) {\n      var _sourceNode$data;\n      const sourceConfig = nodeConfig[sourceNode.type];\n      if (sourceConfig) {\n        var _sourceConfig$default;\n        // Add output variables from source node\n        (_sourceConfig$default = sourceConfig.defaultOutputs) === null || _sourceConfig$default === void 0 ? void 0 : _sourceConfig$default.forEach(output => {\n          availableVars.push({\n            name: output.label,\n            type: output.type || 'Text',\n            from: sourceConfig.title,\n            handleId: edge.targetHandle\n          });\n        });\n      }\n      // Also check for custom field values like inputName\n      if ((_sourceNode$data = sourceNode.data) !== null && _sourceNode$data !== void 0 && _sourceNode$data.inputName) {\n        availableVars.push({\n          name: sourceNode.data.inputName,\n          type: sourceNode.data.inputType || 'Text',\n          from: 'Input',\n          handleId: edge.targetHandle\n        });\n      }\n    }\n  });\n  return availableVars;\n};\n\n// Highlighted text display component\nconst HighlightedText = ({\n  text,\n  invalidVars\n}) => {\n  if (!text) return null;\n  const parts = text.split(/(\\{\\{[a-zA-Z_$][a-zA-Z0-9_$]*\\}\\})/g);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"whitespace-pre-wrap break-words text-[11px] font-mono leading-relaxed\",\n    children: parts.map((part, index) => {\n      const match = part.match(/^\\{\\{([a-zA-Z_$][a-zA-Z0-9_$]*)\\}\\}$/);\n      if (match) {\n        const varName = match[1];\n        const isInvalid = invalidVars.includes(varName);\n        return /*#__PURE__*/_jsxDEV(\"span\", {\n          className: cn('px-1 py-0.5 rounded text-[10px]', isInvalid ? 'bg-red-100 text-red-700 border border-red-200' : 'bg-emerald-100 text-emerald-700 border border-emerald-200'),\n          children: part\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this);\n      }\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-slate-600\",\n        children: part\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 16\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n};\n\n// Autocomplete dropdown component\n_c = HighlightedText;\nconst AutocompleteDropdown = ({\n  variables,\n  onSelect,\n  position\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"absolute z-50 bg-white border border-slate-200 rounded-md shadow-lg py-1 min-w-[180px] max-h-[200px] overflow-auto\",\n    style: {\n      top: position.top,\n      left: position.left\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"px-2 py-1 text-[10px] font-medium text-slate-400 uppercase\",\n      children: \"Available Variables\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this), variables.length > 0 ? variables.map((v, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => onSelect(v.name),\n      className: \"w-full px-2 py-1.5 text-left hover:bg-slate-50 flex items-center justify-between gap-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-xs font-mono text-slate-700\",\n        children: `{{${v.name}}}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-[10px] text-slate-400\",\n        children: v.from\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 13\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 11\n    }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"px-2 py-2 text-xs text-slate-400\",\n      children: \"Connect an Input node first, or type any variable name.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 5\n  }, this);\n};\n_c2 = AutocompleteDropdown;\nexport const TextNode = ({\n  id,\n  data,\n  selected\n}) => {\n  _s();\n  const [text, setText] = useState((data === null || data === void 0 ? void 0 : data.text) || '');\n  const [showAutocomplete, setShowAutocomplete] = useState(false);\n  const [autocompletePos, setAutocompletePos] = useState({\n    top: 0,\n    left: 0\n  });\n  const [cursorPosition, setCursorPosition] = useState(0);\n  const textareaRef = useRef(null);\n  const updateNodeField = useStore(state => state.updateNodeField);\n  const {\n    getNodes,\n    getEdges\n  } = useReactFlow();\n\n  // Extract variables for dynamic handles\n  const variables = useMemo(() => extractVariables(text), [text]);\n\n  // Get available variables from connected nodes\n  const availableVariables = useMemo(() => {\n    return getAvailableVariables(id, getNodes(), getEdges());\n  }, [id, getNodes, getEdges]);\n\n  // Find invalid variables (used but not connected)\n  const connectedHandles = useMemo(() => {\n    const edges = getEdges();\n    return edges.filter(e => e.target === id).map(e => e.targetHandle);\n  }, [id, getEdges]);\n  const invalidVariables = useMemo(() => {\n    return variables.filter(v => !connectedHandles.includes(v));\n  }, [variables, connectedHandles]);\n\n  // Create inputs - always have a default \"input\" handle plus dynamic ones for variables\n  const allInputs = useMemo(() => {\n    const inputs = [{\n      id: 'input',\n      label: 'input'\n    } // Default input handle always present\n    ];\n\n    // Add dynamic handles for each variable (if not already \"input\")\n    variables.forEach(varName => {\n      if (varName !== 'input' && !inputs.find(i => i.id === varName)) {\n        inputs.push({\n          id: varName,\n          label: varName\n        });\n      }\n    });\n    return inputs;\n  }, [variables]);\n\n  // Calculate dynamic dimensions based on text content\n  const dimensions = useMemo(() => {\n    const lines = text.split('\\n');\n    const lineCount = lines.length;\n    const maxLineLength = Math.max(...lines.map(line => line.length), 0);\n    const baseWidth = 280;\n    const baseHeight = invalidVariables.length > 0 ? 220 : 200;\n    const charWidth = 6.5;\n    const paddingWidth = 80;\n    const lineHeight = 18;\n    const paddingHeight = invalidVariables.length > 0 ? 180 : 160;\n    const calculatedWidth = Math.min(Math.max(baseWidth, maxLineLength * charWidth + paddingWidth), 450);\n    const calculatedHeight = Math.min(Math.max(baseHeight, lineCount * lineHeight + paddingHeight), 400);\n    return {\n      width: calculatedWidth,\n      height: calculatedHeight\n    };\n  }, [text, invalidVariables.length]);\n\n  // Update store when text changes\n  useEffect(() => {\n    updateNodeField(id, 'text', text);\n  }, [id, text, updateNodeField]);\n\n  // Update store with current variables\n  useEffect(() => {\n    updateNodeField(id, 'variables', variables);\n  }, [id, variables, updateNodeField]);\n\n  // Handle text input change\n  const handleTextChange = useCallback(e => {\n    const newText = e.target.value;\n    const cursorPos = e.target.selectionStart;\n    setText(newText);\n    setCursorPosition(cursorPos);\n\n    // Check if we should show autocomplete\n    const textBeforeCursor = newText.slice(0, cursorPos);\n    const lastTwoChars = textBeforeCursor.slice(-2);\n    if (lastTwoChars === '{{') {\n      const textarea = textareaRef.current;\n      if (textarea) {\n        const lineHeight = 18;\n        const lines = textBeforeCursor.split('\\n');\n        const currentLine = lines.length;\n        const top = currentLine * lineHeight + 60;\n        setAutocompletePos({\n          top,\n          left: 10\n        });\n        setShowAutocomplete(true);\n      }\n    } else {\n      setShowAutocomplete(false);\n    }\n  }, []);\n\n  // Handle autocomplete selection\n  const handleAutocompleteSelect = useCallback(varName => {\n    const textarea = textareaRef.current;\n    if (textarea) {\n      const beforeCursor = text.slice(0, cursorPosition);\n      const afterCursor = text.slice(cursorPosition);\n      const newText = beforeCursor + varName + '}}' + afterCursor;\n      setText(newText);\n      setShowAutocomplete(false);\n      setTimeout(() => {\n        textarea.focus();\n        const newCursorPos = cursorPosition + varName.length + 2;\n        textarea.setSelectionRange(newCursorPos, newCursorPos);\n      }, 0);\n    }\n  }, [text, cursorPosition]);\n\n  // Close autocomplete on blur\n  const handleBlur = useCallback(() => {\n    setTimeout(() => setShowAutocomplete(false), 200);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(BaseNode, {\n    id: id,\n    title: config.title,\n    icon: config.icon,\n    category: config.category,\n    inputs: allInputs,\n    outputs: config.defaultOutputs,\n    selected: selected,\n    minWidth: dimensions.width,\n    minHeight: dimensions.height,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-2 relative\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"text-xs font-medium text-slate-500 uppercase tracking-wide\",\n        children: \"Text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-start gap-1.5 p-1.5 bg-blue-50/50 border border-blue-100 rounded text-[10px] text-blue-600\",\n        children: [/*#__PURE__*/_jsxDEV(Info, {\n          className: \"w-3 h-3 flex-shrink-0 mt-0.5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Use \", /*#__PURE__*/_jsxDEV(\"code\", {\n            className: \"px-1 bg-blue-100 rounded\",\n            children: '{{variable}}'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 21\n          }, this), \" to create input handles\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative\",\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          ref: textareaRef,\n          value: text,\n          onChange: handleTextChange,\n          onBlur: handleBlur,\n          placeholder: \"Hello {{name}}! Enter your text here...\",\n          className: \"w-full p-2 text-[11px] font-mono bg-slate-50 border border-slate-200 rounded-md focus:outline-none focus:bg-white focus:border-primary focus:ring-1 focus:ring-primary/20 transition-colors resize-none leading-relaxed\",\n          style: {\n            minHeight: Math.max(60, text.split('\\n').length * 18 + 10)\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this), showAutocomplete && /*#__PURE__*/_jsxDEV(AutocompleteDropdown, {\n          variables: availableVariables,\n          onSelect: handleAutocompleteSelect,\n          position: autocompletePos\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 9\n      }, this), text && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-2 bg-slate-50/50 border border-slate-100 rounded-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-[10px] font-medium text-slate-400 uppercase mb-1\",\n          children: \"Preview\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(HighlightedText, {\n          text: text,\n          invalidVars: invalidVariables\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 11\n      }, this), invalidVariables.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-start gap-1.5 p-2 bg-red-50 border border-red-100 rounded-md\",\n        children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n          className: \"w-3.5 h-3.5 text-red-500 flex-shrink-0 mt-0.5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-[10px] font-medium text-red-700\",\n            children: \"Unconnected variables\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-[10px] text-red-600\",\n            children: [invalidVariables.map(v => `{{${v}}}`).join(', '), \" - connect input nodes\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 253,\n    columnNumber: 5\n  }, this);\n};\n_s(TextNode, \"aPzom/dvXFCnnSbJMy3Vyg8qAQ4=\", false, function () {\n  return [useStore, useReactFlow];\n});\n_c3 = TextNode;\nexport default TextNode;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"HighlightedText\");\n$RefreshReg$(_c2, \"AutocompleteDropdown\");\n$RefreshReg$(_c3, \"TextNode\");","map":{"version":3,"names":["useState","useEffect","useMemo","useCallback","useRef","useReactFlow","BaseNode","nodeConfig","useStore","cn","AlertCircle","Info","jsxDEV","_jsxDEV","config","text","extractVariables","regex","variables","Set","match","exec","add","Array","from","getAvailableVariables","nodeId","nodes","edges","availableVars","incomingEdges","filter","e","target","forEach","edge","sourceNode","find","n","id","source","_sourceNode$data","sourceConfig","type","_sourceConfig$default","defaultOutputs","output","push","name","label","title","handleId","targetHandle","data","inputName","inputType","HighlightedText","invalidVars","parts","split","className","children","map","part","index","varName","isInvalid","includes","fileName","_jsxFileName","lineNumber","columnNumber","_c","AutocompleteDropdown","onSelect","position","style","top","left","length","v","onClick","_c2","TextNode","selected","_s","setText","showAutocomplete","setShowAutocomplete","autocompletePos","setAutocompletePos","cursorPosition","setCursorPosition","textareaRef","updateNodeField","state","getNodes","getEdges","availableVariables","connectedHandles","invalidVariables","allInputs","inputs","i","dimensions","lines","lineCount","maxLineLength","Math","max","line","baseWidth","baseHeight","charWidth","paddingWidth","lineHeight","paddingHeight","calculatedWidth","min","calculatedHeight","width","height","handleTextChange","newText","value","cursorPos","selectionStart","textBeforeCursor","slice","lastTwoChars","textarea","current","currentLine","handleAutocompleteSelect","beforeCursor","afterCursor","setTimeout","focus","newCursorPos","setSelectionRange","handleBlur","icon","category","outputs","minWidth","minHeight","ref","onChange","onBlur","placeholder","join","_c3","$RefreshReg$"],"sources":["/Users/supratik_personal/Downloads/frontend_technical_assessment/frontend/src/components/nodes/TextNode.jsx"],"sourcesContent":["// TextNode.jsx - Text node with dynamic handles, variable validation, and autocomplete\n\nimport { useState, useEffect, useMemo, useCallback, useRef } from 'react';\nimport { useReactFlow } from 'reactflow';\nimport { BaseNode } from './BaseNode';\nimport { nodeConfig } from '../../config/nodeConfig';\nimport { useStore } from '../../store';\nimport { cn } from '../../lib/utils';\nimport { AlertCircle, Info } from 'lucide-react';\n\nconst config = nodeConfig.text;\n\n// Extract variables from text using {{variableName}} pattern\nconst extractVariables = (text) => {\n  const regex = /\\{\\{([a-zA-Z_$][a-zA-Z0-9_$]*)\\}\\}/g;\n  const variables = new Set();\n  let match;\n  while ((match = regex.exec(text)) !== null) {\n    variables.add(match[1]);\n  }\n  return Array.from(variables);\n};\n\n// Get available variables from connected nodes\nconst getAvailableVariables = (nodeId, nodes, edges) => {\n  const availableVars = [];\n  \n  // Get all source nodes that connect to this node\n  const incomingEdges = edges.filter(e => e.target === nodeId);\n  \n  incomingEdges.forEach(edge => {\n    const sourceNode = nodes.find(n => n.id === edge.source);\n    if (sourceNode) {\n      const sourceConfig = nodeConfig[sourceNode.type];\n      if (sourceConfig) {\n        // Add output variables from source node\n        sourceConfig.defaultOutputs?.forEach(output => {\n          availableVars.push({\n            name: output.label,\n            type: output.type || 'Text',\n            from: sourceConfig.title,\n            handleId: edge.targetHandle,\n          });\n        });\n      }\n      // Also check for custom field values like inputName\n      if (sourceNode.data?.inputName) {\n        availableVars.push({\n          name: sourceNode.data.inputName,\n          type: sourceNode.data.inputType || 'Text',\n          from: 'Input',\n          handleId: edge.targetHandle,\n        });\n      }\n    }\n  });\n  \n  return availableVars;\n};\n\n// Highlighted text display component\nconst HighlightedText = ({ text, invalidVars }) => {\n  if (!text) return null;\n  \n  const parts = text.split(/(\\{\\{[a-zA-Z_$][a-zA-Z0-9_$]*\\}\\})/g);\n  \n  return (\n    <div className=\"whitespace-pre-wrap break-words text-[11px] font-mono leading-relaxed\">\n      {parts.map((part, index) => {\n        const match = part.match(/^\\{\\{([a-zA-Z_$][a-zA-Z0-9_$]*)\\}\\}$/);\n        if (match) {\n          const varName = match[1];\n          const isInvalid = invalidVars.includes(varName);\n          return (\n            <span\n              key={index}\n              className={cn(\n                'px-1 py-0.5 rounded text-[10px]',\n                isInvalid\n                  ? 'bg-red-100 text-red-700 border border-red-200'\n                  : 'bg-emerald-100 text-emerald-700 border border-emerald-200'\n              )}\n            >\n              {part}\n            </span>\n          );\n        }\n        return <span key={index} className=\"text-slate-600\">{part}</span>;\n      })}\n    </div>\n  );\n};\n\n// Autocomplete dropdown component\nconst AutocompleteDropdown = ({ variables, onSelect, position }) => {\n  return (\n    <div \n      className=\"absolute z-50 bg-white border border-slate-200 rounded-md shadow-lg py-1 min-w-[180px] max-h-[200px] overflow-auto\"\n      style={{ top: position.top, left: position.left }}\n    >\n      <div className=\"px-2 py-1 text-[10px] font-medium text-slate-400 uppercase\">\n        Available Variables\n      </div>\n      {variables.length > 0 ? (\n        variables.map((v, index) => (\n          <button\n            key={index}\n            onClick={() => onSelect(v.name)}\n            className=\"w-full px-2 py-1.5 text-left hover:bg-slate-50 flex items-center justify-between gap-2\"\n          >\n            <span className=\"text-xs font-mono text-slate-700\">{`{{${v.name}}}`}</span>\n            <span className=\"text-[10px] text-slate-400\">{v.from}</span>\n          </button>\n        ))\n      ) : (\n        <div className=\"px-2 py-2 text-xs text-slate-400\">\n          Connect an Input node first, or type any variable name.\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport const TextNode = ({ id, data, selected }) => {\n  const [text, setText] = useState(data?.text || '');\n  const [showAutocomplete, setShowAutocomplete] = useState(false);\n  const [autocompletePos, setAutocompletePos] = useState({ top: 0, left: 0 });\n  const [cursorPosition, setCursorPosition] = useState(0);\n  const textareaRef = useRef(null);\n  const updateNodeField = useStore((state) => state.updateNodeField);\n  const { getNodes, getEdges } = useReactFlow();\n\n  // Extract variables for dynamic handles\n  const variables = useMemo(() => extractVariables(text), [text]);\n\n  // Get available variables from connected nodes\n  const availableVariables = useMemo(() => {\n    return getAvailableVariables(id, getNodes(), getEdges());\n  }, [id, getNodes, getEdges]);\n\n  // Find invalid variables (used but not connected)\n  const connectedHandles = useMemo(() => {\n    const edges = getEdges();\n    return edges.filter(e => e.target === id).map(e => e.targetHandle);\n  }, [id, getEdges]);\n\n  const invalidVariables = useMemo(() => {\n    return variables.filter(v => !connectedHandles.includes(v));\n  }, [variables, connectedHandles]);\n\n  // Create inputs - always have a default \"input\" handle plus dynamic ones for variables\n  const allInputs = useMemo(() => {\n    const inputs = [\n      { id: 'input', label: 'input' }, // Default input handle always present\n    ];\n    \n    // Add dynamic handles for each variable (if not already \"input\")\n    variables.forEach(varName => {\n      if (varName !== 'input' && !inputs.find(i => i.id === varName)) {\n        inputs.push({ id: varName, label: varName });\n      }\n    });\n    \n    return inputs;\n  }, [variables]);\n\n  // Calculate dynamic dimensions based on text content\n  const dimensions = useMemo(() => {\n    const lines = text.split('\\n');\n    const lineCount = lines.length;\n    const maxLineLength = Math.max(...lines.map(line => line.length), 0);\n    \n    const baseWidth = 280;\n    const baseHeight = invalidVariables.length > 0 ? 220 : 200;\n    const charWidth = 6.5;\n    const paddingWidth = 80;\n    const lineHeight = 18;\n    const paddingHeight = invalidVariables.length > 0 ? 180 : 160;\n    \n    const calculatedWidth = Math.min(\n      Math.max(baseWidth, maxLineLength * charWidth + paddingWidth),\n      450\n    );\n    \n    const calculatedHeight = Math.min(\n      Math.max(baseHeight, lineCount * lineHeight + paddingHeight),\n      400\n    );\n    \n    return { width: calculatedWidth, height: calculatedHeight };\n  }, [text, invalidVariables.length]);\n\n  // Update store when text changes\n  useEffect(() => {\n    updateNodeField(id, 'text', text);\n  }, [id, text, updateNodeField]);\n\n  // Update store with current variables\n  useEffect(() => {\n    updateNodeField(id, 'variables', variables);\n  }, [id, variables, updateNodeField]);\n\n  // Handle text input change\n  const handleTextChange = useCallback((e) => {\n    const newText = e.target.value;\n    const cursorPos = e.target.selectionStart;\n    setText(newText);\n    setCursorPosition(cursorPos);\n\n    // Check if we should show autocomplete\n    const textBeforeCursor = newText.slice(0, cursorPos);\n    const lastTwoChars = textBeforeCursor.slice(-2);\n    \n    if (lastTwoChars === '{{') {\n      const textarea = textareaRef.current;\n      if (textarea) {\n        const lineHeight = 18;\n        const lines = textBeforeCursor.split('\\n');\n        const currentLine = lines.length;\n        const top = currentLine * lineHeight + 60;\n        setAutocompletePos({ top, left: 10 });\n        setShowAutocomplete(true);\n      }\n    } else {\n      setShowAutocomplete(false);\n    }\n  }, []);\n\n  // Handle autocomplete selection\n  const handleAutocompleteSelect = useCallback((varName) => {\n    const textarea = textareaRef.current;\n    if (textarea) {\n      const beforeCursor = text.slice(0, cursorPosition);\n      const afterCursor = text.slice(cursorPosition);\n      const newText = beforeCursor + varName + '}}' + afterCursor;\n      setText(newText);\n      setShowAutocomplete(false);\n      \n      setTimeout(() => {\n        textarea.focus();\n        const newCursorPos = cursorPosition + varName.length + 2;\n        textarea.setSelectionRange(newCursorPos, newCursorPos);\n      }, 0);\n    }\n  }, [text, cursorPosition]);\n\n  // Close autocomplete on blur\n  const handleBlur = useCallback(() => {\n    setTimeout(() => setShowAutocomplete(false), 200);\n  }, []);\n\n  return (\n    <BaseNode\n      id={id}\n      title={config.title}\n      icon={config.icon}\n      category={config.category}\n      inputs={allInputs}\n      outputs={config.defaultOutputs}\n      selected={selected}\n      minWidth={dimensions.width}\n      minHeight={dimensions.height}\n    >\n      <div className=\"space-y-2 relative\">\n        <label className=\"text-xs font-medium text-slate-500 uppercase tracking-wide\">\n          Text\n        </label>\n        \n        {/* Help text */}\n        <div className=\"flex items-start gap-1.5 p-1.5 bg-blue-50/50 border border-blue-100 rounded text-[10px] text-blue-600\">\n          <Info className=\"w-3 h-3 flex-shrink-0 mt-0.5\" />\n          <span>Use <code className=\"px-1 bg-blue-100 rounded\">{'{{variable}}'}</code> to create input handles</span>\n        </div>\n        \n        {/* Textarea with autocomplete */}\n        <div className=\"relative\">\n          <textarea\n            ref={textareaRef}\n            value={text}\n            onChange={handleTextChange}\n            onBlur={handleBlur}\n            placeholder='Hello {{name}}! Enter your text here...'\n            className=\"w-full p-2 text-[11px] font-mono bg-slate-50 border border-slate-200 rounded-md focus:outline-none focus:bg-white focus:border-primary focus:ring-1 focus:ring-primary/20 transition-colors resize-none leading-relaxed\"\n            style={{ minHeight: Math.max(60, text.split('\\n').length * 18 + 10) }}\n          />\n          \n          {/* Autocomplete dropdown */}\n          {showAutocomplete && (\n            <AutocompleteDropdown\n              variables={availableVariables}\n              onSelect={handleAutocompleteSelect}\n              position={autocompletePos}\n            />\n          )}\n        </div>\n\n        {/* Preview with highlighting */}\n        {text && (\n          <div className=\"p-2 bg-slate-50/50 border border-slate-100 rounded-md\">\n            <div className=\"text-[10px] font-medium text-slate-400 uppercase mb-1\">Preview</div>\n            <HighlightedText text={text} invalidVars={invalidVariables} />\n          </div>\n        )}\n\n        {/* Invalid variables warning */}\n        {invalidVariables.length > 0 && (\n          <div className=\"flex items-start gap-1.5 p-2 bg-red-50 border border-red-100 rounded-md\">\n            <AlertCircle className=\"w-3.5 h-3.5 text-red-500 flex-shrink-0 mt-0.5\" />\n            <div>\n              <p className=\"text-[10px] font-medium text-red-700\">\n                Unconnected variables\n              </p>\n              <p className=\"text-[10px] text-red-600\">\n                {invalidVariables.map(v => `{{${v}}}`).join(', ')} - connect input nodes\n              </p>\n            </div>\n          </div>\n        )}\n      </div>\n    </BaseNode>\n  );\n};\n\nexport default TextNode;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}