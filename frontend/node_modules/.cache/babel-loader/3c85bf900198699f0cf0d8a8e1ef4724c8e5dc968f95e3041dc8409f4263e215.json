{"ast":null,"code":"// store.js\n\nimport { create } from \"zustand\";\nimport { addEdge, applyNodeChanges, applyEdgeChanges, MarkerType } from 'reactflow';\n\n// Default nodes for demo\nconst defaultNodes = [{\n  id: 'customInput-1',\n  type: 'customInput',\n  position: {\n    x: 100,\n    y: 200\n  },\n  data: {\n    id: 'customInput-1',\n    nodeType: 'customInput',\n    inputName: 'user_query',\n    inputType: 'Text'\n  }\n}, {\n  id: 'llm-1',\n  type: 'llm',\n  position: {\n    x: 450,\n    y: 150\n  },\n  data: {\n    id: 'llm-1',\n    nodeType: 'llm'\n  }\n}, {\n  id: 'customOutput-1',\n  type: 'customOutput',\n  position: {\n    x: 800,\n    y: 200\n  },\n  data: {\n    id: 'customOutput-1',\n    nodeType: 'customOutput',\n    outputName: 'response',\n    outputType: 'Text'\n  }\n}];\nconst defaultEdges = [{\n  id: 'e1-2',\n  source: 'customInput-1',\n  target: 'llm-1',\n  sourceHandle: 'value',\n  targetHandle: 'prompt',\n  type: 'smoothstep',\n  animated: true\n}, {\n  id: 'e2-3',\n  source: 'llm-1',\n  target: 'customOutput-1',\n  sourceHandle: 'response',\n  targetHandle: 'value',\n  type: 'smoothstep',\n  animated: true\n}];\nexport const useStore = create((set, get) => ({\n  nodes: defaultNodes,\n  edges: defaultEdges,\n  nodeIDs: {\n    customInput: 1,\n    llm: 1,\n    customOutput: 1\n  },\n  getNodeID: type => {\n    const newIDs = {\n      ...get().nodeIDs\n    };\n    if (newIDs[type] === undefined) {\n      newIDs[type] = 0;\n    }\n    newIDs[type] += 1;\n    set({\n      nodeIDs: newIDs\n    });\n    return `${type}-${newIDs[type]}`;\n  },\n  addNode: node => {\n    set({\n      nodes: [...get().nodes, node]\n    });\n  },\n  onNodesChange: changes => {\n    set({\n      nodes: applyNodeChanges(changes, get().nodes)\n    });\n  },\n  onEdgesChange: changes => {\n    set({\n      edges: applyEdgeChanges(changes, get().edges)\n    });\n  },\n  onConnect: connection => {\n    set({\n      edges: addEdge({\n        ...connection,\n        type: 'smoothstep',\n        animated: true,\n        markerEnd: {\n          type: MarkerType.Arrow,\n          height: '20px',\n          width: '20px'\n        }\n      }, get().edges)\n    });\n  },\n  updateNodeField: (nodeId, fieldName, fieldValue) => {\n    set({\n      nodes: get().nodes.map(node => {\n        if (node.id === nodeId) {\n          node.data = {\n            ...node.data,\n            [fieldName]: fieldValue\n          };\n        }\n        return node;\n      })\n    });\n  }\n}));","map":{"version":3,"names":["create","addEdge","applyNodeChanges","applyEdgeChanges","MarkerType","defaultNodes","id","type","position","x","y","data","nodeType","inputName","inputType","outputName","outputType","defaultEdges","source","target","sourceHandle","targetHandle","animated","useStore","set","get","nodes","edges","nodeIDs","customInput","llm","customOutput","getNodeID","newIDs","undefined","addNode","node","onNodesChange","changes","onEdgesChange","onConnect","connection","markerEnd","Arrow","height","width","updateNodeField","nodeId","fieldName","fieldValue","map"],"sources":["/Users/supratik_personal/Downloads/frontend_technical_assessment/frontend/src/store.js"],"sourcesContent":["// store.js\n\nimport { create } from \"zustand\";\nimport {\n    addEdge,\n    applyNodeChanges,\n    applyEdgeChanges,\n    MarkerType,\n  } from 'reactflow';\n\n// Default nodes for demo\nconst defaultNodes = [\n  {\n    id: 'customInput-1',\n    type: 'customInput',\n    position: { x: 100, y: 200 },\n    data: { id: 'customInput-1', nodeType: 'customInput', inputName: 'user_query', inputType: 'Text' },\n  },\n  {\n    id: 'llm-1',\n    type: 'llm',\n    position: { x: 450, y: 150 },\n    data: { id: 'llm-1', nodeType: 'llm' },\n  },\n  {\n    id: 'customOutput-1',\n    type: 'customOutput',\n    position: { x: 800, y: 200 },\n    data: { id: 'customOutput-1', nodeType: 'customOutput', outputName: 'response', outputType: 'Text' },\n  },\n];\n\nconst defaultEdges = [\n  {\n    id: 'e1-2',\n    source: 'customInput-1',\n    target: 'llm-1',\n    sourceHandle: 'value',\n    targetHandle: 'prompt',\n    type: 'smoothstep',\n    animated: true,\n  },\n  {\n    id: 'e2-3',\n    source: 'llm-1',\n    target: 'customOutput-1',\n    sourceHandle: 'response',\n    targetHandle: 'value',\n    type: 'smoothstep',\n    animated: true,\n  },\n];\n\nexport const useStore = create((set, get) => ({\n    nodes: defaultNodes,\n    edges: defaultEdges,\n    nodeIDs: { customInput: 1, llm: 1, customOutput: 1 },\n    getNodeID: (type) => {\n        const newIDs = {...get().nodeIDs};\n        if (newIDs[type] === undefined) {\n            newIDs[type] = 0;\n        }\n        newIDs[type] += 1;\n        set({nodeIDs: newIDs});\n        return `${type}-${newIDs[type]}`;\n    },\n    addNode: (node) => {\n        set({\n            nodes: [...get().nodes, node]\n        });\n    },\n    onNodesChange: (changes) => {\n      set({\n        nodes: applyNodeChanges(changes, get().nodes),\n      });\n    },\n    onEdgesChange: (changes) => {\n      set({\n        edges: applyEdgeChanges(changes, get().edges),\n      });\n    },\n    onConnect: (connection) => {\n      set({\n        edges: addEdge({...connection, type: 'smoothstep', animated: true, markerEnd: {type: MarkerType.Arrow, height: '20px', width: '20px'}}, get().edges),\n      });\n    },\n    updateNodeField: (nodeId, fieldName, fieldValue) => {\n      set({\n        nodes: get().nodes.map((node) => {\n          if (node.id === nodeId) {\n            node.data = { ...node.data, [fieldName]: fieldValue };\n          }\n  \n          return node;\n        }),\n      });\n    },\n  }));\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}