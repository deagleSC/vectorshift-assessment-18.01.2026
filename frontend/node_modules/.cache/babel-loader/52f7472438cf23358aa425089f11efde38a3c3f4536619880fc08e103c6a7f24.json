{"ast":null,"code":"// toolbar.js\nimport{DraggableNode}from'./draggableNode';import{nodeConfig}from'./config/nodeConfig';import{Tabs,TabsList,TabsTrigger,TabsContent}from'./components/ui/tabs';import{Search,X}from'lucide-react';import{useState,useRef,useEffect}from'react';import{cn}from'./lib/utils';// Group nodes by category\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const categories={general:{label:'General',nodes:['customInput','customOutput','text']},ai:{label:'LLMs',nodes:['llm']},data:{label:'Data Transformation',nodes:['transform','merge']},logic:{label:'Logic',nodes:['conditional','filter']},integrations:{label:'Integrations',nodes:['api']}};export const PipelineToolbar=()=>{const[searchQuery,setSearchQuery]=useState('');const[searchOpen,setSearchOpen]=useState(false);const inputRef=useRef(null);// Focus input when search opens\nuseEffect(()=>{if(searchOpen&&inputRef.current){inputRef.current.focus();}},[searchOpen]);// Close search when empty and blur\nconst handleBlur=()=>{if(!searchQuery){setSearchOpen(false);}};// Clear search\nconst clearSearch=()=>{setSearchQuery('');setSearchOpen(false);};// Filter nodes based on search\nconst filterNodes=nodeTypes=>{if(!searchQuery)return nodeTypes;return nodeTypes.filter(type=>{const config=nodeConfig[type];return config===null||config===void 0?void 0:config.title.toLowerCase().includes(searchQuery.toLowerCase());});};return/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 bg-white border-b border-slate-200\",children:/*#__PURE__*/_jsxs(Tabs,{defaultValue:\"general\",className:\"w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4 px-4 border-b border-slate-100\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"relative flex items-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:cn(\"relative flex items-center overflow-hidden transition-all duration-300 ease-out\",searchOpen?\"w-48\":\"w-8\"),children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>!searchOpen&&setSearchOpen(true),className:cn(\"absolute left-0 h-8 flex items-center justify-center transition-all duration-300\",searchOpen?\"w-8 pointer-events-none\":\"w-8 rounded-md text-slate-400 hover:text-slate-600 hover:bg-slate-100\"),title:\"Search nodes\",children:/*#__PURE__*/_jsx(Search,{className:\"w-4 h-4 text-slate-400\"})}),/*#__PURE__*/_jsx(\"input\",{ref:inputRef,type:\"text\",placeholder:\"Search nodes...\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),onBlur:handleBlur,className:cn(\"h-8 pl-8 pr-8 text-sm bg-slate-50 border border-slate-200 rounded-md focus:outline-none focus:ring-1 focus:ring-primary focus:border-primary w-full transition-all duration-300\",searchOpen?\"opacity-100\":\"opacity-0\")}),searchQuery&&searchOpen&&/*#__PURE__*/_jsx(\"button\",{onClick:clearSearch,className:\"absolute right-2 p-0.5 rounded hover:bg-slate-200 text-slate-400 hover:text-slate-600 transition-colors\",children:/*#__PURE__*/_jsx(X,{className:\"w-3.5 h-3.5\"})})]})}),/*#__PURE__*/_jsx(TabsList,{className:\"h-10 bg-transparent p-0 gap-0\",children:Object.entries(categories).map(_ref=>{let[key,{label}]=_ref;return/*#__PURE__*/_jsx(TabsTrigger,{value:key,className:\"relative h-10 px-3 rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:bg-transparent data-[state=active]:shadow-none text-slate-500 data-[state=active]:text-slate-900 font-medium text-sm transition-colors hover:text-slate-700\",children:label},key);})})]}),Object.entries(categories).map(_ref2=>{let[key,{nodes}]=_ref2;return/*#__PURE__*/_jsx(TabsContent,{value:key,className:\"mt-0 px-4 py-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-2\",children:[filterNodes(nodes).map(type=>{const config=nodeConfig[type];if(!config)return null;return/*#__PURE__*/_jsx(DraggableNode,{type:type,label:config.title,icon:config.icon,category:config.category},type);}),filterNodes(nodes).length===0&&/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-slate-400\",children:\"No nodes found\"})]})},key);})]})});};","map":{"version":3,"names":["DraggableNode","nodeConfig","Tabs","TabsList","TabsTrigger","TabsContent","Search","X","useState","useRef","useEffect","cn","jsx","_jsx","jsxs","_jsxs","categories","general","label","nodes","ai","data","logic","integrations","PipelineToolbar","searchQuery","setSearchQuery","searchOpen","setSearchOpen","inputRef","current","focus","handleBlur","clearSearch","filterNodes","nodeTypes","filter","type","config","title","toLowerCase","includes","className","children","defaultValue","onClick","ref","placeholder","value","onChange","e","target","onBlur","Object","entries","map","_ref","key","_ref2","icon","category","length"],"sources":["/Users/supratik_personal/Downloads/frontend_technical_assessment/frontend/src/toolbar.js"],"sourcesContent":["// toolbar.js\n\nimport { DraggableNode } from './draggableNode';\nimport { nodeConfig } from './config/nodeConfig';\nimport { Tabs, TabsList, TabsTrigger, TabsContent } from './components/ui/tabs';\nimport { Search, X } from 'lucide-react';\nimport { useState, useRef, useEffect } from 'react';\nimport { cn } from './lib/utils';\n\n// Group nodes by category\nconst categories = {\n  general: {\n    label: 'General',\n    nodes: ['customInput', 'customOutput', 'text'],\n  },\n  ai: {\n    label: 'LLMs',\n    nodes: ['llm'],\n  },\n  data: {\n    label: 'Data Transformation',\n    nodes: ['transform', 'merge'],\n  },\n  logic: {\n    label: 'Logic',\n    nodes: ['conditional', 'filter'],\n  },\n  integrations: {\n    label: 'Integrations',\n    nodes: ['api'],\n  },\n};\n\nexport const PipelineToolbar = () => {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [searchOpen, setSearchOpen] = useState(false);\n  const inputRef = useRef(null);\n  \n  // Focus input when search opens\n  useEffect(() => {\n    if (searchOpen && inputRef.current) {\n      inputRef.current.focus();\n    }\n  }, [searchOpen]);\n\n  // Close search when empty and blur\n  const handleBlur = () => {\n    if (!searchQuery) {\n      setSearchOpen(false);\n    }\n  };\n\n  // Clear search\n  const clearSearch = () => {\n    setSearchQuery('');\n    setSearchOpen(false);\n  };\n\n  // Filter nodes based on search\n  const filterNodes = (nodeTypes) => {\n    if (!searchQuery) return nodeTypes;\n    return nodeTypes.filter(type => {\n      const config = nodeConfig[type];\n      return config?.title.toLowerCase().includes(searchQuery.toLowerCase());\n    });\n  };\n\n  return (\n    <div className=\"flex-shrink-0 bg-white border-b border-slate-200\">\n      <Tabs defaultValue=\"general\" className=\"w-full\">\n        <div className=\"flex items-center gap-4 px-4 border-b border-slate-100\">\n          {/* Collapsible Search with Animation */}\n          <div className=\"relative flex items-center\">\n            <div\n              className={cn(\n                \"relative flex items-center overflow-hidden transition-all duration-300 ease-out\",\n                searchOpen ? \"w-48\" : \"w-8\"\n              )}\n            >\n              <button\n                onClick={() => !searchOpen && setSearchOpen(true)}\n                className={cn(\n                  \"absolute left-0 h-8 flex items-center justify-center transition-all duration-300\",\n                  searchOpen \n                    ? \"w-8 pointer-events-none\" \n                    : \"w-8 rounded-md text-slate-400 hover:text-slate-600 hover:bg-slate-100\"\n                )}\n                title=\"Search nodes\"\n              >\n                <Search className=\"w-4 h-4 text-slate-400\" />\n              </button>\n              <input\n                ref={inputRef}\n                type=\"text\"\n                placeholder=\"Search nodes...\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                onBlur={handleBlur}\n                className={cn(\n                  \"h-8 pl-8 pr-8 text-sm bg-slate-50 border border-slate-200 rounded-md focus:outline-none focus:ring-1 focus:ring-primary focus:border-primary w-full transition-all duration-300\",\n                  searchOpen ? \"opacity-100\" : \"opacity-0\"\n                )}\n              />\n              {searchQuery && searchOpen && (\n                <button\n                  onClick={clearSearch}\n                  className=\"absolute right-2 p-0.5 rounded hover:bg-slate-200 text-slate-400 hover:text-slate-600 transition-colors\"\n                >\n                  <X className=\"w-3.5 h-3.5\" />\n                </button>\n              )}\n            </div>\n          </div>\n          \n          {/* Tabs */}\n          <TabsList className=\"h-10 bg-transparent p-0 gap-0\">\n            {Object.entries(categories).map(([key, { label }]) => (\n              <TabsTrigger\n                key={key}\n                value={key}\n                className=\"relative h-10 px-3 rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:bg-transparent data-[state=active]:shadow-none text-slate-500 data-[state=active]:text-slate-900 font-medium text-sm transition-colors hover:text-slate-700\"\n              >\n                {label}\n              </TabsTrigger>\n            ))}\n          </TabsList>\n        </div>\n        \n        {Object.entries(categories).map(([key, { nodes }]) => (\n          <TabsContent key={key} value={key} className=\"mt-0 px-4 py-3\">\n            <div className=\"flex flex-wrap gap-2\">\n              {filterNodes(nodes).map((type) => {\n                const config = nodeConfig[type];\n                if (!config) return null;\n                return (\n                  <DraggableNode\n                    key={type}\n                    type={type}\n                    label={config.title}\n                    icon={config.icon}\n                    category={config.category}\n                  />\n                );\n              })}\n              {filterNodes(nodes).length === 0 && (\n                <span className=\"text-sm text-slate-400\">No nodes found</span>\n              )}\n            </div>\n          </TabsContent>\n        ))}\n      </Tabs>\n    </div>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}