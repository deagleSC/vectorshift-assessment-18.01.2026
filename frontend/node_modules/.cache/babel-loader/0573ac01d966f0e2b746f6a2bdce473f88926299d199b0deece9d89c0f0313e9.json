{"ast":null,"code":"// store.js\n\nimport { create } from \"zustand\";\nimport { addEdge, applyNodeChanges, applyEdgeChanges, MarkerType } from 'reactflow';\n\n// Demo nodes to show features (can be cleared)\nconst demoNodes = [{\n  id: 'customInput-1',\n  type: 'customInput',\n  position: {\n    x: 100,\n    y: 150\n  },\n  data: {\n    id: 'customInput-1',\n    nodeType: 'customInput',\n    inputName: 'user_name',\n    inputType: 'Text'\n  }\n}, {\n  id: 'text-1',\n  type: 'text',\n  position: {\n    x: 400,\n    y: 100\n  },\n  data: {\n    id: 'text-1',\n    nodeType: 'text',\n    text: 'Hello {{user_name}}!\\n\\nWelcome {{invalid_var}}.'\n  }\n}];\nconst demoEdges = [{\n  id: 'e1',\n  source: 'customInput-1',\n  target: 'text-1',\n  sourceHandle: 'value',\n  targetHandle: 'user_name',\n  type: 'smoothstep'\n}];\nexport const useStore = create((set, get) => ({\n  nodes: demoNodes,\n  edges: demoEdges,\n  nodeIDs: {\n    customInput: 1,\n    text: 1\n  },\n  getNodeID: type => {\n    const newIDs = {\n      ...get().nodeIDs\n    };\n    if (newIDs[type] === undefined) {\n      newIDs[type] = 0;\n    }\n    newIDs[type] += 1;\n    set({\n      nodeIDs: newIDs\n    });\n    return `${type}-${newIDs[type]}`;\n  },\n  addNode: node => {\n    set({\n      nodes: [...get().nodes, node]\n    });\n  },\n  onNodesChange: changes => {\n    set({\n      nodes: applyNodeChanges(changes, get().nodes)\n    });\n  },\n  onEdgesChange: changes => {\n    set({\n      edges: applyEdgeChanges(changes, get().edges)\n    });\n  },\n  onConnect: connection => {\n    set({\n      edges: addEdge({\n        ...connection,\n        type: 'smoothstep',\n        animated: true,\n        markerEnd: {\n          type: MarkerType.Arrow,\n          height: '20px',\n          width: '20px'\n        }\n      }, get().edges)\n    });\n  },\n  updateNodeField: (nodeId, fieldName, fieldValue) => {\n    set({\n      nodes: get().nodes.map(node => {\n        if (node.id === nodeId) {\n          node.data = {\n            ...node.data,\n            [fieldName]: fieldValue\n          };\n        }\n        return node;\n      })\n    });\n  },\n  clearAll: () => {\n    set({\n      nodes: [],\n      edges: [],\n      nodeIDs: {}\n    });\n  }\n}));","map":{"version":3,"names":["create","addEdge","applyNodeChanges","applyEdgeChanges","MarkerType","demoNodes","id","type","position","x","y","data","nodeType","inputName","inputType","text","demoEdges","source","target","sourceHandle","targetHandle","useStore","set","get","nodes","edges","nodeIDs","customInput","getNodeID","newIDs","undefined","addNode","node","onNodesChange","changes","onEdgesChange","onConnect","connection","animated","markerEnd","Arrow","height","width","updateNodeField","nodeId","fieldName","fieldValue","map","clearAll"],"sources":["/Users/supratik_personal/Downloads/frontend_technical_assessment/frontend/src/store.js"],"sourcesContent":["// store.js\n\nimport { create } from \"zustand\";\nimport {\n    addEdge,\n    applyNodeChanges,\n    applyEdgeChanges,\n    MarkerType,\n  } from 'reactflow';\n\n// Demo nodes to show features (can be cleared)\nconst demoNodes = [\n  {\n    id: 'customInput-1',\n    type: 'customInput',\n    position: { x: 100, y: 150 },\n    data: { id: 'customInput-1', nodeType: 'customInput', inputName: 'user_name', inputType: 'Text' },\n  },\n  {\n    id: 'text-1',\n    type: 'text',\n    position: { x: 400, y: 100 },\n    data: { id: 'text-1', nodeType: 'text', text: 'Hello {{user_name}}!\\n\\nWelcome {{invalid_var}}.' },\n  },\n];\n\nconst demoEdges = [\n  {\n    id: 'e1',\n    source: 'customInput-1',\n    target: 'text-1',\n    sourceHandle: 'value',\n    targetHandle: 'user_name',\n    type: 'smoothstep',\n  },\n];\n\nexport const useStore = create((set, get) => ({\n    nodes: demoNodes,\n    edges: demoEdges,\n    nodeIDs: { customInput: 1, text: 1 },\n    getNodeID: (type) => {\n        const newIDs = {...get().nodeIDs};\n        if (newIDs[type] === undefined) {\n            newIDs[type] = 0;\n        }\n        newIDs[type] += 1;\n        set({nodeIDs: newIDs});\n        return `${type}-${newIDs[type]}`;\n    },\n    addNode: (node) => {\n        set({\n            nodes: [...get().nodes, node]\n        });\n    },\n    onNodesChange: (changes) => {\n      set({\n        nodes: applyNodeChanges(changes, get().nodes),\n      });\n    },\n    onEdgesChange: (changes) => {\n      set({\n        edges: applyEdgeChanges(changes, get().edges),\n      });\n    },\n    onConnect: (connection) => {\n      set({\n        edges: addEdge({...connection, type: 'smoothstep', animated: true, markerEnd: {type: MarkerType.Arrow, height: '20px', width: '20px'}}, get().edges),\n      });\n    },\n    updateNodeField: (nodeId, fieldName, fieldValue) => {\n      set({\n        nodes: get().nodes.map((node) => {\n          if (node.id === nodeId) {\n            node.data = { ...node.data, [fieldName]: fieldValue };\n          }\n  \n          return node;\n        }),\n      });\n    },\n    clearAll: () => {\n      set({\n        nodes: [],\n        edges: [],\n        nodeIDs: {},\n      });\n    },\n  }));\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}