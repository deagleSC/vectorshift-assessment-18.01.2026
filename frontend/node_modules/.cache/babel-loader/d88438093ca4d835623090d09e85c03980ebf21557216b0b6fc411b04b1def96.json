{"ast":null,"code":"var _jsxFileName = \"/Users/supratik_personal/Downloads/frontend_technical_assessment/frontend/src/submit.js\",\n  _s = $RefreshSig$();\n// submit.js\n\nimport { useState } from 'react';\nimport { useStore } from './store';\nimport { Button } from './components/ui/button';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription } from './components/ui/dialog';\nimport { CheckCircle, XCircle, Loader2 } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const SubmitButton = () => {\n  _s();\n  const nodes = useStore(state => state.nodes);\n  const edges = useStore(state => state.edges);\n  const [loading, setLoading] = useState(false);\n  const [result, setResult] = useState(null);\n  const [open, setOpen] = useState(false);\n  const handleSubmit = async () => {\n    setLoading(true);\n    try {\n      const response = await fetch('http://localhost:8000/pipelines/parse', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          nodes: nodes.map(n => ({\n            id: n.id,\n            type: n.type,\n            data: n.data\n          })),\n          edges: edges.map(e => ({\n            source: e.source,\n            target: e.target\n          }))\n        })\n      });\n      if (!response.ok) {\n        throw new Error('Failed to analyze pipeline');\n      }\n      const data = await response.json();\n      setResult(data);\n      setOpen(true);\n    } catch (error) {\n      setResult({\n        error: 'Failed to analyze pipeline. Please try again.'\n      });\n      setOpen(true);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      onClick: handleSubmit,\n      disabled: loading,\n      className: \"gap-2\",\n      children: [loading && /*#__PURE__*/_jsxDEV(Loader2, {\n        className: \"w-4 h-4 animate-spin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }, this), loading ? 'Analyzing...' : 'Submit Pipeline']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: open,\n      onOpenChange: setOpen,\n      children: /*#__PURE__*/_jsxDEV(DialogContent, {\n        className: \"sm:max-w-md\",\n        children: [/*#__PURE__*/_jsxDEV(DialogHeader, {\n          children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n            className: \"flex items-center gap-2\",\n            children: result && !result.error ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                className: \"w-5 h-5 text-emerald-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 19\n              }, this), \"Pipeline Analysis Results\"]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(XCircle, {\n                className: \"w-5 h-5 text-red-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 19\n              }, this), \"Error\"]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(DialogDescription, {\n            children: result && !result.error ? 'Your pipeline has been analyzed successfully.' : 'There was an error analyzing your pipeline.'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), result && !result.error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-3 gap-4 py-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center p-4 bg-muted rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-3xl font-bold text-foreground\",\n              children: result.num_nodes\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-muted-foreground\",\n              children: \"Nodes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center p-4 bg-muted rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-3xl font-bold text-foreground\",\n              children: result.num_edges\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-muted-foreground\",\n              children: \"Edges\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center p-4 bg-muted rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `text-3xl font-bold ${result.is_dag ? 'text-emerald-500' : 'text-red-500'}`,\n              children: result.is_dag ? '✓' : '✗'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-muted-foreground\",\n              children: \"Valid DAG\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this), (result === null || result === void 0 ? void 0 : result.error) && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-red-500 text-sm\",\n          children: result.error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(SubmitButton, \"tcACGmFJVfiUBoqJQ9UH88PXQPU=\", false, function () {\n  return [useStore, useStore];\n});\n_c = SubmitButton;\nvar _c;\n$RefreshReg$(_c, \"SubmitButton\");","map":{"version":3,"names":["useState","useStore","Button","Dialog","DialogContent","DialogHeader","DialogTitle","DialogDescription","CheckCircle","XCircle","Loader2","jsxDEV","_jsxDEV","Fragment","_Fragment","SubmitButton","_s","nodes","state","edges","loading","setLoading","result","setResult","open","setOpen","handleSubmit","response","fetch","method","headers","body","JSON","stringify","map","n","id","type","data","e","source","target","ok","Error","json","error","children","onClick","disabled","className","fileName","_jsxFileName","lineNumber","columnNumber","onOpenChange","num_nodes","num_edges","is_dag","_c","$RefreshReg$"],"sources":["/Users/supratik_personal/Downloads/frontend_technical_assessment/frontend/src/submit.js"],"sourcesContent":["// submit.js\n\nimport { useState } from 'react';\nimport { useStore } from './store';\nimport { Button } from './components/ui/button';\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogDescription,\n} from './components/ui/dialog';\nimport { CheckCircle, XCircle, Loader2 } from 'lucide-react';\n\nexport const SubmitButton = () => {\n  const nodes = useStore((state) => state.nodes);\n  const edges = useStore((state) => state.edges);\n  const [loading, setLoading] = useState(false);\n  const [result, setResult] = useState(null);\n  const [open, setOpen] = useState(false);\n\n  const handleSubmit = async () => {\n    setLoading(true);\n    try {\n      const response = await fetch('http://localhost:8000/pipelines/parse', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          nodes: nodes.map((n) => ({ id: n.id, type: n.type, data: n.data })),\n          edges: edges.map((e) => ({ source: e.source, target: e.target })),\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to analyze pipeline');\n      }\n\n      const data = await response.json();\n      setResult(data);\n      setOpen(true);\n    } catch (error) {\n      setResult({ error: 'Failed to analyze pipeline. Please try again.' });\n      setOpen(true);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <>\n      <Button onClick={handleSubmit} disabled={loading} className=\"gap-2\">\n        {loading && <Loader2 className=\"w-4 h-4 animate-spin\" />}\n        {loading ? 'Analyzing...' : 'Submit Pipeline'}\n      </Button>\n\n      <Dialog open={open} onOpenChange={setOpen}>\n        <DialogContent className=\"sm:max-w-md\">\n          <DialogHeader>\n            <DialogTitle className=\"flex items-center gap-2\">\n              {result && !result.error ? (\n                <>\n                  <CheckCircle className=\"w-5 h-5 text-emerald-500\" />\n                  Pipeline Analysis Results\n                </>\n              ) : (\n                <>\n                  <XCircle className=\"w-5 h-5 text-red-500\" />\n                  Error\n                </>\n              )}\n            </DialogTitle>\n            <DialogDescription>\n              {result && !result.error\n                ? 'Your pipeline has been analyzed successfully.'\n                : 'There was an error analyzing your pipeline.'}\n            </DialogDescription>\n          </DialogHeader>\n\n          {result && !result.error && (\n            <div className=\"grid grid-cols-3 gap-4 py-4\">\n              <div className=\"text-center p-4 bg-muted rounded-lg\">\n                <div className=\"text-3xl font-bold text-foreground\">\n                  {result.num_nodes}\n                </div>\n                <div className=\"text-sm text-muted-foreground\">Nodes</div>\n              </div>\n              <div className=\"text-center p-4 bg-muted rounded-lg\">\n                <div className=\"text-3xl font-bold text-foreground\">\n                  {result.num_edges}\n                </div>\n                <div className=\"text-sm text-muted-foreground\">Edges</div>\n              </div>\n              <div className=\"text-center p-4 bg-muted rounded-lg\">\n                <div\n                  className={`text-3xl font-bold ${\n                    result.is_dag ? 'text-emerald-500' : 'text-red-500'\n                  }`}\n                >\n                  {result.is_dag ? '✓' : '✗'}\n                </div>\n                <div className=\"text-sm text-muted-foreground\">Valid DAG</div>\n              </div>\n            </div>\n          )}\n\n          {result?.error && (\n            <p className=\"text-red-500 text-sm\">{result.error}</p>\n          )}\n        </DialogContent>\n      </Dialog>\n    </>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}